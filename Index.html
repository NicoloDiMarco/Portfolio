<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Portfolio - Home</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- AOS Animations -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

  <!-- Font Awesome per icone migliori -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <style>
    /* TEMA SCURO */
    body {
      transition: background-color 0.3s, color 0.3s;
    }
    
    body.dark-mode { 
      background-color: #121212; 
      color: #f1f1f1; 
    }
    
    body.dark-mode .navbar {
      background-color: #1a1a1a !important;
    }
    
    body.dark-mode .navbar-brand,
    body.dark-mode .nav-link {
      color: #f1f1f1 !important;
    }
    
    body.dark-mode .nav-link:hover {
      color: #2575fc !important;
    }
    
    body.dark-mode footer {
      background-color: #1a1a1a !important;
    }
    
    /* MODALITÀ DALTONICO */
    body.grayscale * { 
      filter: grayscale(100%) !important; 
    }
    
    body.grayscale {
      filter: none !important;
    }

    /* SWITCH TEMA (sole/luna) */
    .theme-switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 30px;
    }
    
    .theme-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    
    .theme-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 34px;
    }
    
    .theme-slider:before {
      position: absolute;
      content: "";
      height: 22px;
      width: 22px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    
    input:checked + .theme-slider {
      background-color: #2196F3;
    }
    
    input:checked + .theme-slider:before {
      transform: translateX(30px);
    }
    
    /* Icone sole/luna */
    .theme-icon {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      font-size: 14px;
      transition: opacity 0.3s;
    }
    
    .sun-icon {
      left: 8px;
      color: #ffa500;
    }
    
    .moon-icon {
      right: 8px;
      color: #4a90e2;
    }
    
    /* Sole/luna visibilità */
    body.dark-mode .sun-icon {
      opacity: 0.3;
    }
    
    body.dark-mode .moon-icon {
      opacity: 1;
    }
    
    body:not(.dark-mode) .sun-icon {
      opacity: 1;
    }
    
    body:not(.dark-mode) .moon-icon {
      opacity: 0.3;
    }
    
    /* Pallino dello switch */
    .theme-slider:before {
      position: absolute;
      content: "";
      height: 22px;
      width: 22px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }

    /* BOTTONE DALTONICO */
    .daltonic-btn {
      background: transparent;
      border: 1px solid #6c757d;
      color: #6c757d;
      border-radius: 5px;
      padding: 5px 10px;
      transition: all 0.3s;
      position: relative;
      overflow: hidden;
    }
    
    .daltonic-btn:hover {
      background: #6c757d;
      color: white;
    }
    
    .daltonic-btn.active {
      background: #2575fc;
      color: white;
      border-color: #2575fc;
    }
    
    .daltonic-btn .icon-slash {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      transition: transform 0.3s;
      font-size: 20px;
      color: red;
    }
    
    .daltonic-btn.active .icon-slash {
      transform: translate(-50%, -50%) scale(1) rotate(-15deg);
    }

    /* SELETTORE LINGUA CON DROPDOWN PERSONALIZZATO */
    .language-dropdown {
      position: relative;
      display: inline-block;
    }
    
    .language-button {
      background: transparent;
      border: 1px solid #6c757d;
      border-radius: 5px;
      padding: 8px 12px;
      cursor: pointer;
      color: #f1f1f1;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 16px;
      transition: all 0.3s;
      min-width: 80px;
      justify-content: center;
    }
    
    .language-button:hover {
      background: #6c757d;
      color: white;
    }
    
    body.dark-mode .language-button {
      background: #2a2a2a;
      color: #f1f1f1;
      border-color: #555;
    }
    
    body.dark-mode .language-button:hover {
      background: #444;
    }
    
    .language-menu {
      position: absolute;
      top: 100%;
      right: 0;
      background: white;
      border: 1px solid #ddd;
      border-radius: 5px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      display: none;
      z-index: 1000;
      min-width: 120px;
      margin-top: 2px;
    }
    
    body.dark-mode .language-menu {
      background: #2a2a2a;
      border-color: #555;
      color: #f1f1f1;
    }
    
    body.dark-mode .language-option {
      color: #f1f1f1;
    }
    
    .language-menu.show {
      display: block;
      animation: fadeIn 0.2s ease;
    }
    
    .language-option {
      padding: 10px 15px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 16px;
      transition: background-color 0.2s;
      border: none;
      background: none;
      width: 100%;
      text-align: left;
    }
    
    .language-option:hover {
      background: #f5f5f5;
    }
    
    body.dark-mode .language-option:hover {
      background: #444;
    }
    
    .language-option.active {
      background: #2575fc;
      color: white;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-5px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* HERO SECTION */
    .hero {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
      color: white;
      position: relative;
    }
    
    .hero h1 {
      font-size: 3.5rem;
      margin-bottom: 1rem;
    }
    
    .hero p {
      font-size: 1.3rem;
      margin-bottom: 2rem;
    }
    
    .hero .btn {
      padding: 12px 30px;
      font-size: 1.1rem;
      border-radius: 30px;
      transition: transform 0.3s, box-shadow 0.3s;
    }
    
    .hero .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    }

    /* Nasconde elementi Google Translate */
    #google_translate_element {
      display: none;
    }
    
    .goog-te-banner-frame.skiptranslate {
      display: none !important;
    }
    
    body {
      top: 0 !important;
    }
    
    .goog-te-combo {
      display: none !important;
    }
    .img-respmob{
          border-radius: 50% !important; 
          width: 20%; 
          height: 20%;
      }

      .IconFlag{
        width: 16px;
        height: 16px;
      }
    /* Responsive */
    @media (max-width: 768px) {
      .hero h1 {
        font-size: 2.5rem;
      }
      
      .hero p {
        font-size: 1.1rem;
      }
      
      .navbar .d-flex {
        flex-wrap: wrap;
        justify-content: center;
        margin-top: 10px;
      }
      
      .language-menu {
        right: auto;
        left: 0;
      }

      .img-respmob{
          border-radius: 50% !important; 
          width: 35%; 
          height: 35%;
      }
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html">
        <i class="fas fa-globe"></i> Portfolio
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" href="about.html">
              <span class="translate-chi-sono">Chi sono</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="projects.html">
              <span class="translate-progetti">Progetti</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="contact.html">
              <span class="translate-contatti">Contatti</span>
            </a>
          </li>
        </ul>
        <div class="ms-3 d-flex gap-3 align-items-center">

          <!-- Switch Tema Chiaro/Scuro -->
          <label class="theme-switch" title="Tema chiaro/scuro">
            <input type="checkbox" id="theme-toggle">
            <span class="theme-slider">
              <i class="fas fa-sun theme-icon sun-icon"></i>
              <i class="fas fa-moon theme-icon moon-icon"></i>
            </span>
          </label>

          <!-- Bottone Daltonico -->
          <button type="button" id="daltonic-btn" class="daltonic-btn" aria-label="Modalità daltonico" title="Modalità daltonico">
            <i class="fas fa-eye"></i>
            <i class="fas fa-slash icon-slash"></i>
          </button>

          <!-- Selettore Lingua con Dropdown -->
          <div class="language-dropdown">
            <button class="language-button" id="language-button" aria-label="Seleziona lingua">
              <span id="current-flag">🇮🇹</span>
              <i class="fas fa-chevron-down" style="font-size: 12px;"></i>
            </button>
            <div class="language-menu" id="language-menu">
              <button class="language-option active" data-lang="it">
                <span><img src="Images/Flags/it.svg" class="IconFlag"></span> Italiano
              </button>
              <button class="language-option" data-lang="en">
                <span><img src="Images/Flags/gb.svg" class="IconFlag"></span> English
              </button>
              <button class="language-option" data-lang="es">
                <span><img src="Images/Flags/es.svg" class="IconFlag"></span> Español
              </button>
              <button class="language-option" data-lang="de">
                <span><span><img src="Images/Flags/de.svg" class="IconFlag"></span></span> Deutsch
              </button>
              <button class="language-option" data-lang="ja">
                <span><span><img src="Images/Flags/jp.svg" class="IconFlag"></span></span> 日本語
              </button>
              <button class="language-option" data-lang="nl">
                <span><span><img src="Images/Flags/nl.svg" class="IconFlag"></span></span> Nederlands
              </button>
            </div>
          </div>

        </div>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <header class="hero" id="home">
    <div class="container">
      <img data-aos="fade-up" src="Images/Profile Image.jpg" class="rounded-circle img-respmob"  alt="Nicolò Di Marco">
      <h1 data-aos="fade-up">
        <span class="translate-ciao">Ciao, sono</span> <b>Nicolò Di Marco</b>
      </h1>
      <p data-aos="fade-up" data-aos-delay="200">
        <span class="translate-ruolo">Analista sviluppatore Software • Designer • Freelancer</span>
      </p>
      <a href="projects.html" class="btn btn-light mt-3" data-aos="fade-up" data-aos-delay="400">
        <span class="translate-scopri">Scopri i miei progetti</span>
      </a>
    </div>
  </header>

  <!-- Footer -->
  <footer class="text-center py-3 bg-dark text-light">
    <div id="google_translate_element"></div>
    <p class="mb-0">© 2025 Nicolò Di Marco - <span class="translate-diritti">Tutti i diritti riservati</span></p>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- AOS JS -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init({
      duration: 1000,
      once: true
    });
  </script>

  <!-- Script principale per gestione tema, daltonico e lingua -->
  <script>
    // Traduzioni estese per tutte le lingue
    const translations = {
      it: {
        'chi-sono': 'Chi sono',
        'progetti': 'Progetti',
        'contatti': 'Contatti',
        'ciao': 'Ciao, sono',
        'ruolo': 'Analista Software Developer • Designer • Freelancer',
        'scopri': 'Scopri i miei progetti',
        'diritti': 'Tutti i diritti riservati'
      },
      en: {
        'chi-sono': 'About',
        'progetti': 'Projects',
        'contatti': 'Contact',
        'ciao': 'Hello, I am',
        'ruolo': 'Software Developer Analyst • Designer • Freelancer',
        'scopri': 'Discover my projects',
        'diritti': 'All rights reserved'
      },
      es: {
        'chi-sono': 'Sobre mí',
        'progetti': 'Proyectos',
        'contatti': 'Contacto',
        'ciao': 'Hola, soy',
        'ruolo': 'Analista desarrollador de software • Diseñador • Freelancer',
        'scopri': 'Descubre mis proyectos',
        'diritti': 'Todos los derechos reservados'
      },
      de: {
        'chi-sono': 'Über mich',
        'progetti': 'Projekte',
        'contatti': 'Kontakt',
        'ciao': 'Hallo, ich bin',
        'ruolo': 'Softwareentwickler-Analyst • Designer • Freelancer',
        'scopri': 'Entdecke meine Projekte',
        'diritti': 'Alle Rechte vorbehalten'
      },
      ja: {
        'chi-sono': 'プロフィール',
        'progetti': 'プロジェクト',
        'contatti': 'お問い合わせ',
        'ciao': 'こんにちは、私は',
        'ruolo': 'ソフトウェア開発アナリスト • デザイナー • フリーランサー',
        'scopri': 'プロジェクトを見る',
        'diritti': '全著作権所有'
      },
      nl: {
        'chi-sono': 'Over mij',
        'progetti': 'Projecten',
        'contatti': 'Contact',
        'ciao': 'Hallo, ik ben',
        'ruolo': 'Softwareontwikkelaar Analist • Designer • Freelancer',
        'scopri': 'Ontdek mijn projecten',
        'diritti': 'Alle rechten voorbehouden'
      }
    };

    // Mappa delle bandiere
    const flags = {
      it: '🇮🇹',
      en: '🇬🇧',
      es: '🇪🇸',
      de: '🇩🇪',
      ja: '🇯🇵',
      nl: '🇳🇱'
    };

    // GESTIONE TEMA CHIARO/SCURO
    const themeToggle = document.getElementById('theme-toggle');
    const savedTheme = localStorage.getItem('theme');
    
    if (savedTheme === 'dark') {
      document.body.classList.add('dark-mode');
      themeToggle.checked = true;
    }
    
    themeToggle.addEventListener('change', () => {
      document.body.classList.toggle('dark-mode');
      const isDark = document.body.classList.contains('dark-mode');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });

    // GESTIONE MODALITÀ DALTONICO
    const daltonicBtn = document.getElementById('daltonic-btn');
    const savedDaltonic = localStorage.getItem('daltonic');
    
    if (savedDaltonic === 'on') {
      document.body.classList.add('grayscale');
      daltonicBtn.classList.add('active');
    }
    
    daltonicBtn.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      
      // Toggle diretto senza interferire con il DOM
      document.body.classList.toggle('grayscale');
      daltonicBtn.classList.toggle('active');
      const isActive = document.body.classList.contains('grayscale');
      localStorage.setItem('daltonic', isActive ? 'on' : 'off');
    });

    // GESTIONE LINGUA CON DROPDOWN
    const languageButton = document.getElementById('language-button');
    const languageMenu = document.getElementById('language-menu');
    const currentFlag = document.getElementById('current-flag');
    const languageOptions = document.querySelectorAll('.language-option');
    
    // Recupera la lingua salvata o usa italiano come default
    const savedLang = localStorage.getItem('language') || 'it';
    let currentLanguage = savedLang;
    
    function translatePage(lang) {
      document.querySelectorAll('[class^="translate-"]').forEach(element => {
        const key = element.className.replace('translate-', '');
        if (translations[lang] && translations[lang][key]) {
          element.textContent = translations[lang][key];
        }
      });
      
      // Aggiorna l'attributo lang dell'HTML
      document.documentElement.lang = lang;
      
      // Aggiorna la bandiera nel bottone
      currentFlag.textContent = flags[lang];
      
      // Aggiorna gli stati attivi nel menu
      languageOptions.forEach(option => {
        option.classList.toggle('active', option.dataset.lang === lang);
      });
      
      // Salva la preferenza
      localStorage.setItem('language', lang);
      currentLanguage = lang;
    }
    
    // Applica la lingua salvata all'avvio
    translatePage(savedLang);
    
    // Toggle del menu lingua
    languageButton.addEventListener('click', (e) => {
      e.stopPropagation();
      languageMenu.classList.toggle('show');
    });
    
    // Gestione selezione lingua
    languageOptions.forEach(option => {
      option.addEventListener('click', (e) => {
        e.stopPropagation();
        const selectedLang = option.dataset.lang;
        translatePage(selectedLang);
        languageMenu.classList.remove('show');
      });
    });
    
    // Chiudi menu quando si clicca fuori
    document.addEventListener('click', (e) => {
      if (!languageButton.contains(e.target) && !languageMenu.contains(e.target)) {
        languageMenu.classList.remove('show');
      }
    });
    
    // Chiudi menu con ESC
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        languageMenu.classList.remove('show');
      }
    });

    // Google Translate API (backup nascosto)
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({
        pageLanguage: 'it',
        includedLanguages: 'it,en,es,de,ja,nl',
        layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
        autoDisplay: false
      }, 'google_translate_element');
    }
    
    // Carica Google Translate solo se necessario (opzionale)
    if (window.location.search.includes('google_translate=true')) {
      const script = document.createElement('script');
      script.src = '//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit';
      document.body.appendChild(script);
    }
  </script>

</body>
</html>